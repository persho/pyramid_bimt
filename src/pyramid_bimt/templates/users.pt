<metal:block use-macro="main_template">

    <div metal:fill-slot="content" id="content">

      <h1>Users</h1>
      <table class="table">
        <tr>
          <th>ID</th>
          <th>Email</th>
          <th>Created</th>
          <th>Modified</th>
          <th>Enable/Disable</th>
        </tr>
        <tr tal:repeat="user users">
            <td>${user.id}</td>
            <td>
              <a style="${'text-decoration: line-through' if not user.enabled else ''}"
                 href="${request.route_url('user', traverse=(user.email,))}">${user.email}
            </td>
            <td>${user.created.strftime('%Y/%m/%d %H:%M:%S')}</td>
            <td>${user.modified.strftime('%Y/%m/%d %H:%M:%S')}</td>
            <td tal:condition="not user.enabled"><a class="btn btn-xs btn-success" href="${request.route_url('user', traverse=(user.email, 'enable'))}">enable</td>
            <td tal:condition="user.enabled"><a class="btn btn-xs btn-danger" href="${request.route_url('user', traverse=(user.email, 'disable'))}">disable</td>
        </tr>
      </table>
    </div>

</metal:block>
